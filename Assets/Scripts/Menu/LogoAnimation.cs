using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using DG.Tweening;

public class LogoAnimation : MonoBehaviour
{
    public Camera mainCamera;
    public AudioSource music;
    public string finalMusicHighlights = "";

    private List<float> musicWaitAmount = new List<float>() { 0.5724915f, 0.1825151f, 0.213802f, 0.7664356f, 0.1835921f, 0.206004f, 0.2251143f, 0.2365167f, 0.2533998f, 0.7667992f, 0.2132902f, 0.215291f, 0.2172008f, 0.2399778f, 0.1984558f, 0.2247672f, 0.7141914f, 0.211699f, 0.2334137f, 0.2352071f, 0.2539058f, 0.2437816f, 0.9003539f, 0.1834359f, 0.2279339f, 0.2807903f, 0.1981745f, 0.2181883f, 0.8434172f, 0.2084064f, 0.2518349f, 0.2269564f, 0.2289886f, 0.2763147f, 0.7654524f, 0.2005444f, 0.2329998f, 0.337059f, 0.1771832f, 0.279335f, 0.8056183f, 0.2622108f, 0.2176619f, 0.2838478f, 0.2240582f, 0.2141199f, 0.7895527f, 0.2340984f, 0.2651825f, 0.279665f, 0.4469109f, 0.5171432f, 0.5013695f, 0.4961967f, 0.5100574f, 0.5241909f, 0.459816f, 0.5022526f, 0.4821701f, 0.4795208f, 0.5113525f, 0.5163612f, 0.5116425f, 0.5032501f, 0.4880104f, 0.5145645f, 0.4366035f, 0.5389366f, 0.483223f, 0.5200157f, 0.5291119f, 0.5295486f, 0.4595413f, 0.5236778f, 0.5081081f, 0.4711456f, 0.4976883f, 0.5132618f, 0.4937744f, 0.4873085f, 0.497179f, 0.5312595f, 0.4646416f, 0.5445213f, 0.4682236f, 0.528801f, 0.456562f, 0.4975739f, 0.5078049f, 0.5055733f, 0.4924469f, 0.4951897f, 0.4464073f, 0.5631218f, 0.4369621f, 0.47686f, 0.4687538f, 0.564415f, 0.455162f, 0.2510223f, 0.2475357f, 0.2634239f, 0.2335167f, 0.2495384f, 0.2223015f, 0.2435112f, 0.233799f, 0.2483482f, 0.2615662f, 0.2494926f, 0.2480621f, 0.2230263f, 0.2475548f, 0.2534904f, 0.240921f, 0.2410545f, 0.247673f, 0.2677345f, 0.2759094f, 0.2605133f, 0.2712288f, 0.2596359f, 0.245388f, 0.2707748f, 0.2226715f, 0.2539787f, 0.2370453f, 0.2712669f, 0.2676163f, 0.2826309f, 0.2518196f, 0.2776375f, 0.2681656f, 0.2013512f, 0.2408943f, 0.2462311f, 0.2505951f, 0.2801666f, 0.203167f, 0.2644272f, 0.2784004f, 0.2213287f, 0.2458916f, 0.2629662f, 0.3078651f, 0.2186279f, 0.2999458f, 0.2809029f, 0.2477417f, 0.2524109f, 0.252018f, 0.2455368f, 0.2516594f, 0.2090912f, 0.2357903f, 0.2735443f, 0.2202072f, 0.2517548f, 0.2552795f, 0.2684059f, 0.2744255f, 0.639473f, 0.374218f, 0.3761749f, 0.2995338f, 0.2800636f, 0.7620201f, 0.3809509f, 0.3936768f, 0.3439827f, 0.837841f, 0.5244446f, 0.3994522f, 0.3947067f, 0.8037415f, 0.4300346f, 0.3678207f, 0.3629761f, 0.7513351f, 0.5037842f, 0.298317f, 0.4029236f, 0.830307f, 0.3822021f, 0.418602f, 0.2747803f, 0.9208755f, 0.4265518f, 0.3849716f, 0.3905563f, 0.7836838f, 0.3954849f, 0.423851f, 0.4128571f, 0.8171463f, 0.4010849f, 0.4089584f, 0.3699951f, 0.8739319f, 0.3271866f, 0.3909988f, 0.3798065f, 0.8611145f, 0.3530807f, 0.3957214f, 0.3929443f, 0.8384171f, 0.3779831f, 0.3840561f, 0.3997955f, 0.8577347f, 0.3666153f, 0.5248413f, 0.3026733f, 0.8450851f, 0.3371582f, 0.4121246f, 0.3618393f, 0.8301239f, 0.3661423f, 0.3906403f, 0.4052048f, 0.8196716f, 0.3326111f, 0.4255676f, 0.4351654f, 0.5259323f, 0.4827347f, 0.5246048f, 0.2722397f, 0.2777863f, 0.291214f, 0.2265549f, 0.6130905f, 0.3323364f, 0.4369965f, 0.2740097f, 0.3083878f, 0.6419983f, 0.2815247f, 0.2929382f, 0.2869263f, 0.2395172f, 0.2500839f, 0.717308f, 0.2718811f, 0.2639313f, 0.2802658f, 0.2596741f, 0.2688141f, 0.6359177f, 0.2861328f, 0.3142166f, 0.2205353f, 0.2428818f, 0.2742767f, 0.6504288f, 0.25383f, 0.2720032f, 0.3152008f, 0.2289963f, 0.3165665f, 0.2541351f, 0.3403091f, 0.3451614f, 0.3718872f, 0.2867584f, 0.307579f, 0.3287964f, 0.3026886f, 0.2640762f, 0.5479431f, 0.2300644f, 0.5516586f, 0.3451691f, 0.2692261f, 0.2775421f, 0.2756577f, 0.283989f, 0.2865829f, 0.273201f, 0.2636185f, 0.3025436f, 0.2896271f, 0.2508545f, 0.2893677f, 0.255249f, 0.2582397f, 0.3019409f, 0.2961349f, 0.3524094f, 0.253418f, 0.3208313f, 0.2597122f, 0.3073959f, 0.2546005f, 0.280159f, 0.2333298f, 0.2686844f, 0.2877197f, 0.2712555f, 0.2877426f, 0.3109818f, 0.2931976f, 0.2454529f, 0.2821655f, 0.2904739f, 0.2460938f, 0.3023987f, 0.2633057f, 0.2724457f, 0.3054123f, 0.267601f, 0.3165131f, 0.2769089f, 0.2711639f, 0.3177109f, 0.2665482f, 0.2552032f, 0.3303986f, 0.2647552f, 0.2720642f, 0.23172f, 0.2645569f, 0.34478f, 0.2582474f, 0.310524f, 0.3531342f, 0.6617203f, 0.428009f, 0.4186783f, 0.399971f, 0.8509979f, 0.34935f, 0.4118347f, 0.3788376f, 0.7788925f, 0.3586807f, 0.3666458f, 0.3818817f, 0.8559799f, 0.4394531f, 0.4025574f, 0.3529587f, 0.842041f, 0.2990723f, 0.401947f, 0.3582306f, 0.8933258f, 0.3276215f, 0.4755859f, 0.4486847f, 0.817276f, 0.3694611f, 0.3996582f, 0.3892822f, 0.8248901f, 0.3995361f, 0.4035339f, 0.3548889f, 0.8572083f, 0.3855743f, 0.3443604f, 0.4397583f, 0.8265076f, 0.3678741f, 0.4170227f, 0.2980347f, 0.9601746f, 0.3154755f, 0.4113159f, 0.4130096f, 0.8378906f, 0.378952f, 0.3871918f, 0.3840332f, 0.9060822f, 0.3453064f, 0.3634186f, 0.3748169f, 0.8911591f, 0.3868866f, 0.4083557f, 0.3535919f, 0.9027252f, 0.3709412f, 0.4005737f, 0.3370514f, 0.854126f, 0.3636475f, 0.4291382f, 0.384613f };

    IEnumerator loopThroughMusicWaits() {
        music.PlayDelayed(0.1f);
        foreach (float waitTime in musicWaitAmount)
        {
            DOTween.Kill("LogoTween");
            DOTween.Kill("CameraTween");
            GetComponent<RectTransform>().DOScale(new Vector3(1.03f, 1.03f, 1.03f), 0.1f).SetId("LogoTween").OnComplete(() => 
                GetComponent<RectTransform>().DOScale(new Vector3(1f, 1f, 1f), 0.1f).SetId("LogoTween")
            );
            mainCamera.DOOrthoSize(5f, 0.1f).SetId("CameraTween").OnComplete(() => 
                mainCamera.DOOrthoSize(4.95f, 0.1f).SetId("CameraTween")
            );

            yield return new WaitForSeconds(waitTime);
        }
    }

    public float timeSinceLastClick;
    private void Start() {
        timeSinceLastClick = Time.time;
        StartCoroutine(loopThroughMusicWaits());
    }

    void Update()
    {
        /*if (Input.GetMouseButtonDown(0)) {
            finalMusicHighlights = finalMusicHighlights + ((Time.time - timeSinceLastClick).ToString() + "f, ");
            print(finalMusicHighlights);
            timeSinceLastClick = Time.time;
        }*/
    }
}
